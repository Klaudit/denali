<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="/denali/">

  <title>ORM Adapters</title>
  <meta name="description" content="">

  <link href='//fonts.googleapis.com/css?family=Inconsolata|Bitter:400,700|Open+Sans:300,400,400italic,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/main.css">
  <link rel="canonical" href="https://davewasmer.github.com/denali/guides/orm-adapters/">
</head>

  <body>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-2.2.2.min.js"><\/script>')</script>
    <nav class="navbar">
  <div class='container'>
    <a href='.' class='navbar-brand'>
      <img class='logo-light' src='images/logo.svg' alt='Denali'>
      <span class='project-name'>Denali</span>
    </a>

    <div class="navbar-nav">
      <a class='nav-link' href='canary/guides/quickstart'>Quickstart</a>
      <a class='nav-link' href='canary/guides/introduction'>Guides</a>
      <a class='nav-link' href='canary/api'>API</a>
      <a class='nav-link' href='https://github.com/davewasmer/denali' target='_blank'>Github</a>
      <a class='nav-link' href='https://github.com/davewasmer/denali/issues' target='_blank'>Issues</a>
    </div>
  </div>
</nav>

<div class='container'>
  <div class="row">
    <div class='guides-nav col-md-3'>

  <div class='nav-section'>
  <div class='nav-header'>Version</div>
  <select class='versions-select' id='versions'>
    
      <option value='canary' selected='selected'>canary</option>
    
      <option value='latest' >latest</option>
    
  </select>
</div>


  
    <div class="nav-section">
      
      
        <a href='canary/guides/introduction/' class='nav-link'>Introduction</a>
      
        <a href='canary/guides/quickstart/' class='nav-link'>Quickstart</a>
      
        <a href='canary/guides/app-structure/' class='nav-link'>App Structure</a>
      
    </div>
  
    <div class="nav-section">
      
        <div class='nav-header'>Application</div>
      
      
        <a href='canary/guides/routing/' class='nav-link'>Routing</a>
      
        <a href='canary/guides/actions/' class='nav-link'>Actions</a>
      
        <a href='canary/guides/services/' class='nav-link'>Services</a>
      
        <a href='canary/guides/errors/' class='nav-link'>Errors</a>
      
        <a href='canary/guides/mailers/' class='nav-link'>Mailers</a>
      
    </div>
  
    <div class="nav-section">
      
        <div class='nav-header'>Data</div>
      
      
        <a href='canary/guides/models/' class='nav-link'>Models</a>
      
        <a href='canary/guides/serializers/' class='nav-link'>Serializers</a>
      
        <a href='canary/guides/orm-adapters/' class='nav-link'>ORM Adapters</a>
      
    </div>
  
    <div class="nav-section">
      
        <div class='nav-header'>Testing</div>
      
      
        <a href='canary/guides/integration/' class='nav-link'>Integration</a>
      
        <a href='canary/guides/unit/' class='nav-link'>Unit Testing</a>
      
    </div>
  
    <div class="nav-section">
      
        <div class='nav-header'>Configuration</div>
      
      
        <a href='canary/guides/environment/' class='nav-link'>Environment</a>
      
        <a href='canary/guides/middleware/' class='nav-link'>Middleware</a>
      
        <a href='canary/guides/initializers/' class='nav-link'>Initializers</a>
      
    </div>
  
    <div class="nav-section">
      
        <div class='nav-header'>Utilities</div>
      
      
        <a href='canary/guides/mixins.js' class='nav-link'>Mixins</a>
      
        <a href='canary/guides/addons/' class='nav-link'>Addons</a>
      
        <a href='canary/guides/instrumentation/' class='nav-link'>Instrumentation</a>
      
    </div>
  
    <div class="nav-section">
      
        <div class='nav-header'>CLI</div>
      
      
        <a href='canary/guides/generate/' class='nav-link'>denali generate</a>
      
        <a href='canary/guides/serve/' class='nav-link'>denali serve</a>
      
        <a href='canary/guides/test/' class='nav-link'>denali test</a>
      
        <a href='canary/guides/build/' class='nav-link'>denali build</a>
      
        <a href='canary/guides/addon/' class='nav-link'>denali addon</a>
      
        <a href='canary/guides/console/' class='nav-link'>denali console</a>
      
    </div>
  

</div>

    <div class='col-md-9 guides-body copy'>
      <a class="improve-btn" target="_blank" href="https://github.com/davewasmer/denali/edit/master/guides/orm-adapters.md">Improve this page</a>
      <h1 id="orm-adapters">ORM Adapters</h1>

<p>Denali takes a somewhat unique approach to handling the data layer. Unlike most
frameworks, it doesn’t come bundled with a pre-chosen ORM, or attempt to build
it’s own. Instead, Denali’s Model class works with your ORM of choice by
communicating with it through an ORM Adapter.</p>

<p>This lets you bring your own ORM to your apps, while still enabling Denali to
understand your data model. This is good news for your app, since it lets you
pick the right ORM for the job and leverage the strengths of the specific data
store backing your app, rather than relying on a lowest-common-denominator data
layer.</p>

<h2 id="available-orm-adapters">Available ORM Adapters</h2>

<p>Several popular ORMs have Denali adapters ready to go. Just add them to your
project via <code class="highlighter-rouge">$ denali install &lt;adapter package name&gt;</code>, and set your <code class="highlighter-rouge">ormAdapter</code>
property in your <code class="highlighter-rouge">config/environment.js</code> file to the ORM’s name.</p>

<ul>
  <li><a href="https://github.com/denalijs/denali-node-orm2"><code class="highlighter-rouge">node-orm2</code></a></li>
  <li><a href="https://github.com/denalijs/denali-sequelize"><code class="highlighter-rouge">Sequelize</code></a></li>
  <li><a href="https://github.com/denalijs/denali-bookshelf"><code class="highlighter-rouge">Bookshelf</code></a></li>
</ul>

<p>TODO confirm these links work and projects are working</p>

<h2 id="creating-an-orm-adapter">Creating an ORM Adapter</h2>

<p>Want to use an ORM that doesn’t have an adapter yet? It’s fairly easy to write
your own! Just extend from the base <code class="highlighter-rouge">ORMAdapter</code> class, and implement each of
the hooks:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyCoolORMAdapter</span> <span class="kr">extends</span> <span class="nx">ORMAdapter</span> <span class="p">{</span>

  <span class="kr">static</span> <span class="nx">find</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">query</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">createRecord</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">idFor</span><span class="p">(</span><span class="nx">record</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">getAttribute</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">property</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">setAttribute</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">property</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">deleteAttribute</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">property</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">getRelationship</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">relationship</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">setRelationship</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">relationship</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">deleteRelationship</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">relationship</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">saveRecord</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">deleteRecord</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">define</span><span class="p">(</span><span class="nx">Model</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

<span class="p">}</span>
</code></pre>
</div>

    </div>
  </div>
</div>

<footer class="footer">
  <div class='container'>
    Made with <img src='images/fox-and-beard.svg' class='fox-and-beard'> at
    <a href='http://foxandbeard.co' target='_blank'>Fox and Beard</a>
  </div>
</footer>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
    e.src='//www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    ga('create','UA-XXXXX-X','auto');ga('send','pageview');
</script>


  </body>
</html>
